(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dtmSiteAnalytics"],{"./nest/analytics/AEM/helpers.js":function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=t("./node_modules/babel-runtime/helpers/toConsumableArray.js");var r=l(n);var o=t("./node_modules/babel-runtime/helpers/extends.js");var i=l(o);var c=t("./nest/scripts/utils/events/event-types.js");function l(a){return a&&a.__esModule?a:{default:a}}var s=function a(){return!!window.digitalData};var u=function a(){return[{linkPosition:"top navigation",parentSelector:[".header-main-nav"]},{linkPosition:"right navigation",parentSelector:[".sidebar-nav-right"]},{linkPosition:"left navigation",parentSelector:[".sidebar-nav-left"]},{linkPosition:"header",parentSelector:[".header-top-hat",".header-top"]},{linkPosition:"tab",parentSelector:[".subnav-hero",".component-cross-links-list"]},{linkPosition:"hero",parentSelector:[".component-hero"]},{linkPosition:"card",parentSelector:[".component-card"]},{linkPosition:"notifications",parentSelector:[".component-alert-message",".component-notification-message"]},{linkPosition:"footer",parentSelector:["footer"]},{linkPosition:"overlay",parentSelector:[".component-overlay"]}]};var v=function a(){var e=window.digitalData.page.category.siteName;var t=void 0;switch(e){case"styleguide":t="Styleguide";break;case"gwl":t="Great-West Life";break;case"ll":t="London Life";break;case"cl":t="Canada Life";break;default:t="Great-West Life"}return{abbr:e,fullName:t}};var f=function a(e,t,n){s()&&(window.digitalData.page[e][t]=n)};var d=function a(e){var t=function a(t){var n=Object.keys(e[t]);n.forEach(function(a){return f(t,a,e[t][a])})};for(var n in e)t(n)};var p=function a(e){s()&&e.forEach(function(a){m(a.key,a.value)})};var m=function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;var r=r||window.digitalData;if(r&&n){var o=Object.assign({},r[e][n]);r[e][n]=(0,i.default)({},o,t)}else if(r){var c=Object.assign({},r[e]);r[e]=(0,i.default)({},c,t)}};var g=function a(e){s()&&(window.digitalData.form=e)};var L=function a(e){if(s()){var t=void 0;t="string"===typeof e?{appName:"lead:"+e}:e;window.digitalData.lead=t}};var C=function a(e){var t=void 0;t="string"===typeof e?{appName:"lead:"+e}:e;return t};var A=function a(e){var t=":";return e.map(function(a){return a.label}).join(t)};var k=function a(e){var t=Object.values(e);var n=t.map(function(a){return{label:a[0]}});return A(n)};var E=function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;M(c.NAV_CLICK,e,t)};var h=function a(e){return{linkPage:window.digitalData.page.pageInfo.pageName,linkName:e.title,linkTarget:e.el?e.el.target:"button:no target",linkPosition:e.linkPosition||"body"}};var y=function a(e){M(c.EMAIL_CLICK,e)};var _=function a(e){return{emailName:e.trim(),emailPage:window.digitalData.page.pageInfo.pageName}};var S=function a(e,t){var n=w(e);M(c.TEL_CLICK,n)};var w=function a(e){return{title:e.trim()}};var b=function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;M(c.SOCIAL_SHARE,e)};var I=function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;M(c.SOCIAL_FOLLOW,e)};var O=function a(e){return{socialFollowPage:window.digitalData.page.pageInfo.pageName,socialFollowPlatform:e}};var P=function a(e){var t=Array.isArray(e.formError)?A(e.formError):k(e.formError);delete e.formError;var n=(0,i.default)({},e,{formError:t});g(n);return n};var N=function a(){M(c.PAGE_LOAD)};var j=function a(e,t){return[].concat((0,r.default)(document.querySelectorAll(t))).some(function(a){return a!==e&&a.contains(e)})};var D=function a(e,t){var n=t?t.toLowerCase():"";var r=window.digitalData.page.category.pageLanguage;var o="calc:"+e.appName;var i=o+":"+n;var c=e.siteName;var l={pageInfo:{pageName:c+":"+i},category:{pageType:"calculator-page",primaryCategory:"calculator",subCategory1:o,subCategory2:i}};d(l)};var M=function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;$nest.trigger(e,t,n)};var K=function a(e,t){switch(e){case c.NAV_CLICK:case c.TEL_CLICK:return h(t);case c.FORM_ERROR:return P(t);case c.ROUTE_CHANGE:var n=t.config,r=t.to;return D(n,r);case c.EMAIL_CLICK:return _(t);case c.LEAD_START:case c.LEAD_COMPLETE:return C(t);case c.SOCIAL_SHARE:case c.SOCIAL_FOLLOW:return O(t);case c.API_SUCCESS:var o=t.config,i=t.to;return D(o,i);case c.API_ERROR:var l=t.config,s=t.to;return D(l,s);default:return t}};e.default={ensureAnalytics:s,getSiteName:v,checkLinkPosition:j,formatFormErrorArray:A,formatAnalyticsLead:C,formatEventData:K,linkPositionOptions:u,setAnalyticsFormErrors:g,setAnalyticsLeadConfig:L,setAnalyticsPageValues:f,trackSocialShare:b,trackSocialFollow:I,trackNavEvent:E,trackEmailEvent:y,trackTelEvent:S,updateStepComponentValues:d,updateCalcData:D,setDigitalData:m,updatePageMeta:p}},"./nest/analytics/AEM/siteAnalytics.js":function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=t("./node_modules/cash-dom/dist/cash.esm.js");var r=c(n);var o=t("./nest/analytics/AEM/helpers.js");var i=c(o);function c(a){return a&&a.__esModule?a:{default:a}}var l=window.$nest;var s=l.types;var u=function a(){l.trigger(s.ANALYTICS_LOADED,"AEM DOM analytics loaded");f();v();d();p()};var v=function a(){var e=[".js-component-social-share .js-social-analytics"];m(e,i.default.trackSocialShare,s.SOCIAL_SHARE);var t=[".js-component-social-links .js-social-analytics",".component-blockquote .js-social-analytics"];m(t,i.default.trackSocialFollow,s.SOCIAL_FOLLOW)};var f=function a(){var e=[".component-footer .basic-anchor",".header-section a",".component-card a",".component-crossLinks-container a",".component-cta a",".component-hero-container a",".component-charmer a",".component-file-resource-list a",".component-alert-message a",".component-notification-message a",'[data-analytics="app-text"] a'];m(e,i.default.trackNavEvent,s.NAV_CLICK)};var d=function a(){var e=['a[href^="mailto:"]'];m(e,i.default.trackEmailEvent,s.EMAIL_CLICK)};var p=function a(){var e=['a[href^="tel:"]'];m(e,i.default.trackTelEvent,s.TEL_CLICK)};var m=function a(e,t,n){var o=e.join(", ");(0,r.default)("body").on("click",o,function(a){var e=this;var r=L(e,n);var o=r.replace(/\n. |\r/g,"").trim();if(n!==s.NAV_CLICK)t(o,e);else{var c=g(e,i.default.linkPositionOptions());var l=e.href;l.includes("mailto:")||l.includes("tel:")||t({linkPosition:c,href:l,title:o},e)}})};var g=function a(e,t){var n=t.find(function(a){return i.default.checkLinkPosition(e,a.parentSelector)});if(!n)return"body";return n.linkPosition};var L=function a(e,t){switch(t){case s.SOCIAL_SHARE:case s.SOCIAL_FOLLOW:return e.dataset.platformName||e.dataset.platform;case s.NAV_CLICK:return C(e);case s.EMAIL_CLICK:return e.href;case s.TEL_CLICK:return e.href;default:return"link"}};var C=function a(e){var t=[].find.call(e.childNodes,function(a){return a.classList&&a.classList.contains("sr-only")});var n=t&&t.textContent||"";return e.textContent.replace(n,"")};e.default={init:u}}}]);