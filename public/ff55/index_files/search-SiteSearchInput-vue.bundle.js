(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["search-SiteSearchInput-vue","inputs-AutoComplete-vue","inputs-SubmitButton-vue"],{"./nest/scripts/utils/vue/mixins/id.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default={props:{id:{type:String}},computed:{componentId:function e(){return this.id?this.id:this.$options.name+"_"+this._uid}},methods:{createId:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";var s=this.componentId||null;if(!s)return null;return t+s+n}}}},"./nest/scripts/vue-components/inputs/AutoComplete.vue":function(e,t,n){"use strict";n.r(t);var s=n("./nest/scripts/vue-components/inputs/AutoComplete.vue?vue&type=template&id=42518f9c&");var i=n("./nest/scripts/vue-components/inputs/AutoComplete.vue?vue&type=script&lang=js&");for(var u in i)"default"!==u&&function(e){n.d(t,e,function(){return i[e]})}(u);var r=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");var o=n("./nest/scripts/vue-components/inputs/AutoComplete.vue?vue&type=custom&index=0&blockType=docs&lang=markdown");var a=n.n(o);var c=Object(r["a"])(i["default"],s["a"],s["b"],false,null,null,null);"function"===typeof a.a&&a()(c);var l;false;c.options.__file="nest/scripts/vue-components/inputs/AutoComplete.vue";t["default"]=c.exports},"./nest/scripts/vue-components/inputs/AutoComplete.vue?vue&type=custom&index=0&blockType=docs&lang=markdown":function(e,t){},"./nest/scripts/vue-components/inputs/AutoComplete.vue?vue&type=script&lang=js&":function(e,t,n){"use strict";n.r(t);var s=n("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js?!./nest/scripts/vue-components/inputs/AutoComplete.vue?vue&type=script&lang=js&");var i=n.n(s);for(var u in s)"default"!==u&&function(e){n.d(t,e,function(){return s[e]})}(u);t["default"]=i.a},"./nest/scripts/vue-components/inputs/AutoComplete.vue?vue&type=template&id=42518f9c&":function(e,t,n){"use strict";var s=function(){var e=this;var t=e.$createElement;var n=e._self._c||t;return n("div",{staticClass:"autocomplete"},[n("label",{staticClass:"autocomplete-label",class:!!e.hideLabel&&"sr-only",attrs:{for:e.componentId,id:e.componentId+"-label"}},[e._v(e._s(e.label))]),e._v(" "),n("div",{attrs:{"aria-haspopup":"listbox","aria-expanded":e.isOpen?"true":"false","aria-owns":e.listId,role:"combobox"}},[n("input",{ref:"input",staticClass:"input search-input",attrs:{"aria-controls":e.listId,"aria-activedescendant":e.activedescendant,id:e.componentId,type:"text",autocomplete:"off","aria-autocomplete":"list"},domProps:{value:e.value},on:{input:e.onChange,keydown:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"]))return null;return e.highlightNext(t)},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"]))return null;return e.highlightPrev(t)},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault();return e.setResult(e.activeListIndex)},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab"))return null;return e.close(t)},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;return e.close(t)}]}})]),e._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.isOpen&&e.results.length,expression:"isOpen && results.length"}],staticClass:"autocomplete-results",attrs:{id:e.listId,"aria-labelledby":e.componentId+"-label",role:"listbox"}},e._l(e.results,function(t,s){return n("li",{key:s,staticClass:"autocomplete-result",class:{"is-active":s===e.activeListIndex},attrs:{role:"option",id:e.componentId+"-result-item-"+s},domProps:{innerHTML:e._s(e.highlightValue(t))},on:{click:function(){return e.setResult(s)}}})}),0)])};var i=[];s._withStripped=true;n.d(t,"a",function(){return s});n.d(t,"b",function(){return i})},"./nest/scripts/vue-components/inputs/SubmitButton.vue":function(e,t,n){"use strict";n.r(t);var s=n("./nest/scripts/vue-components/inputs/SubmitButton.vue?vue&type=template&id=cb6ec804&");var i=n("./nest/scripts/vue-components/inputs/SubmitButton.vue?vue&type=script&lang=js&");for(var u in i)"default"!==u&&function(e){n.d(t,e,function(){return i[e]})}(u);var r=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");var o=Object(r["a"])(i["default"],s["a"],s["b"],false,null,null,null);var a;false;o.options.__file="nest/scripts/vue-components/inputs/SubmitButton.vue";t["default"]=o.exports},"./nest/scripts/vue-components/inputs/SubmitButton.vue?vue&type=script&lang=js&":function(e,t,n){"use strict";n.r(t);var s=n("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js?!./nest/scripts/vue-components/inputs/SubmitButton.vue?vue&type=script&lang=js&");var i=n.n(s);for(var u in s)"default"!==u&&function(e){n.d(t,e,function(){return s[e]})}(u);t["default"]=i.a},"./nest/scripts/vue-components/inputs/SubmitButton.vue?vue&type=template&id=cb6ec804&":function(e,t,n){"use strict";var s=function(){var e=this;var t=e.$createElement;var n=e._self._c||t;return n("button",{class:"button "+(e.search?"button-icon-format-rev":"button-primary"),attrs:{type:"submit"},on:{click:e.submitHandler}},[e.search?[n("span",{staticClass:"icon-search",attrs:{"aria-hidden":"true"}}),e._v(" "),n("span",{staticClass:"sr-only"},[e._v("\n    "+e._s(e.text)+"\n    ")])]:[e._v("\n    "+e._s(e.text)+"\n  ")]],2)};var i=[];s._withStripped=true;n.d(t,"a",function(){return s});n.d(t,"b",function(){return i})},"./nest/scripts/vue-components/search/SiteSearchInput.vue":function(e,t,n){"use strict";n.r(t);var s=n("./nest/scripts/vue-components/search/SiteSearchInput.vue?vue&type=template&id=010443d4&");var i=n("./nest/scripts/vue-components/search/SiteSearchInput.vue?vue&type=script&lang=js&");for(var u in i)"default"!==u&&function(e){n.d(t,e,function(){return i[e]})}(u);var r=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");var o=n("./nest/scripts/vue-components/search/SiteSearchInput.vue?vue&type=custom&index=0&blockType=i18n");var a=Object(r["a"])(i["default"],s["a"],s["b"],false,null,null,null);"function"===typeof o["default"]&&Object(o["default"])(a);var c;false;a.options.__file="nest/scripts/vue-components/search/SiteSearchInput.vue";t["default"]=a.exports},"./nest/scripts/vue-components/search/SiteSearchInput.vue?vue&type=custom&index=0&blockType=i18n":function(e,t,n){"use strict";var s=n("./node_modules/@kazupon/vue-i18n-loader/lib/index.js!./node_modules/vue-loader/lib/index.js?!./nest/scripts/vue-components/search/SiteSearchInput.vue?vue&type=custom&index=0&blockType=i18n");var i=n.n(s);t["default"]=i.a},"./nest/scripts/vue-components/search/SiteSearchInput.vue?vue&type=script&lang=js&":function(e,t,n){"use strict";n.r(t);var s=n("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js?!./nest/scripts/vue-components/search/SiteSearchInput.vue?vue&type=script&lang=js&");var i=n.n(s);for(var u in s)"default"!==u&&function(e){n.d(t,e,function(){return s[e]})}(u);t["default"]=i.a},"./nest/scripts/vue-components/search/SiteSearchInput.vue?vue&type=template&id=010443d4&":function(e,t,n){"use strict";var s=function(){var e=this;var t=e.$createElement;var n=e._self._c||t;return n("form",{staticClass:"header-search-form",on:{submit:function(t){t.preventDefault();return e.submitSearch(t)}}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col field-full-input-col autocomplete-wrapper"},[n("auto-complete",{attrs:{items:e.suggestedStrings,hideLabel:true,label:"Search"},on:{enter:e.submitSearch},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}})],1),e._v(" "),n("div",{staticClass:"col col-auto field-full-submit-col"},[n("submit-button",{attrs:{search:true,text:e.$t("search.search")},on:{submit:e.submitSearch}})],1)])])};var i=[];s._withStripped=true;n.d(t,"a",function(){return s});n.d(t,"b",function(){return i})},"./node_modules/@kazupon/vue-i18n-loader/lib/index.js!./node_modules/vue-loader/lib/index.js?!./nest/scripts/vue-components/search/SiteSearchInput.vue?vue&type=custom&index=0&blockType=i18n":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[];e.options.__i18n.push('{"en":{"search":{"recent":"Recent searches","search":"Search"}},"fr":{"search":{"recent":"Recent searches","search":"Recherche"}}}');delete e.options._Ctor}},"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js?!./nest/scripts/vue-components/inputs/AutoComplete.vue?vue&type=script&lang=js&":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var s=n("./nest/scripts/utils/vue/mixins/id.js");var i=u(s);function u(e){return e&&e.__esModule?e:{default:e}}t.default={name:"auto-complete",mixins:[i.default],props:{value:{type:String,default:""},items:{type:Array,required:false,default:function e(){return[]}},label:{type:String,required:true},minSearchLength:{type:Number,default:2},maxResults:{type:Number,default:8},hideLabel:{type:Boolean,default:false}},data:function e(){return{isOpen:false,results:[],activeListIndex:-1}},computed:{listId:function e(){return this.componentId+"-results"},activedescendant:function e(){return this.activeListIndex>=0&&this.componentId+"-result-item-"+this.activeListIndex}},methods:{onChange:function e(t){var n=this;this.$emit("input",t.target.value);this.$nextTick(function(){n.filterResults();n.value.length>=n.minSearchLength?n.open():n.close()})},filterResults:function e(){var t=this;this.results=this.items.filter(function(e){return e.toLowerCase().indexOf(t.value.toLowerCase())>-1}).slice(0,this.maxResults)},setResult:function e(t){this.$emit("input",this.results[t]);this.$emit("select",this.results[t]);this.$emit("enter",this.results[t]||this.value);this.close()},highlightNext:function e(){if(this.isOpen){this.activeListIndex++;this.activeListIndex>this.results.length-1&&(this.activeListIndex=0)}},highlightPrev:function e(){if(this.isOpen){this.activeListIndex--;this.activeListIndex<0&&(this.activeListIndex=this.results.length-1)}},handleClickOutside:function e(t){this.$el===t.target&&this.$el.contains(t.target)||this.close()},setActiveDescendant:function e(){this.activedescendant=this.getId(this.activeListIndex)},getId:function e(t){return"result-item-"+t},isSelected:function e(t){return t===this.activeListIndex},highlightValue:function e(t){var n=this;return t.split(this.value).reduce(function(e,t){return e+"<b>"+n.value+"</b>"+t})},open:function e(){this.isOpen=true},close:function e(){this.isOpen=false;this.activeListIndex=-1}},mounted:function e(){document.addEventListener("click",this.handleClickOutside)},destroyed:function e(){document.removeEventListener("click",this.handleClickOutside)}}},"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js?!./nest/scripts/vue-components/inputs/SubmitButton.vue?vue&type=script&lang=js&":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default={name:"submit-button",props:{search:{type:Boolean},text:{type:String},native:{type:Boolean}},methods:{submitHandler:function e(t){if(!this.native){t.preventDefault();this.$emit("submit")}}}}},"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js?!./nest/scripts/vue-components/search/SiteSearchInput.vue?vue&type=script&lang=js&":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var s=n("./node_modules/babel-runtime/helpers/toConsumableArray.js");var i=h(s);var u=n("./node_modules/babel-runtime/helpers/extends.js");var r=h(u);var o=n("./nest/scripts/vue-components/inputs/AutoComplete.vue");var a=h(o);var c=n("./nest/scripts/vue-components/inputs/SubmitButton.vue");var l=h(c);var d=n("./node_modules/axios/index.js");var p=h(d);var v=n("./node_modules/vuex/dist/vuex.esm.js");var f=n("./nest/scripts/vue-components/search/store/types.js");function h(e){return e&&e.__esModule?e:{default:e}}t.default={name:"site-search-input",components:{AutoComplete:a.default,SubmitButton:l.default},props:{autoCompleteUrl:{type:String,default:"/something"},searchPageUrl:{type:String,default:"*/search"},keywords:{type:Array,default:[]}},computed:(0,r.default)({},(0,v.mapState)({currentSearch:function e(t){return t.search.currentSearch},recentSearches:function e(t){return t.search.recentSearches}}),{query:{get:function e(){return this.currentSearch||""},set:function e(t){this.$store.commit(f.SET_CURRENT_SEARCH,t)}},suggestedStrings:function e(){return[].concat((0,i.default)(this.keywords),(0,i.default)(this.recentSearches))}}),methods:(0,r.default)({},(0,v.mapActions)([f.SET_RECENT_SEARCHES,f.SET_CURRENT_SEARCH]),{setCurrentSearch:function e(t){t&&this.SET_CURRENT_SEARCH(t)},setRecentSearches:function e(){this.recentSearches.includes(this.currentSearch)||this.SET_RECENT_SEARCHES(this.currentSearch)},submitSearch:function e(t){this.setCurrentSearch(t);this.currentSearch.replace(/\s/g,"").length||(this.query="");this.setRecentSearches();var n=""+window.location.origin+this.searchPageUrl;window.location!==n&&(window.location.href=""+n)}}),mounted:function e(){var t=""+window.location.origin+this.searchPageUrl;window.location.href!==t&&(this.query="")}}},"./node_modules/vue-loader/lib/runtime/componentNormalizer.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s});function s(e,t,n,s,i,u,r,o){var a="function"===typeof e?e.options:e;if(t){a.render=t;a.staticRenderFns=n;a._compiled=true}s&&(a.functional=true);u&&(a._scopeId="data-v-"+u);var c;if(r){c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext;e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__);i&&i.call(this,e);e&&e._registeredComponents&&e._registeredComponents.add(r)};a._ssrRegister=c}else i&&(c=o?function(){i.call(this,this.$root.$options.shadowRoot)}:i);if(c)if(a.functional){a._injectStyles=c;var l=a.render;a.render=function e(t,n){c.call(n);return l(t,n)}}else{var d=a.beforeCreate;a.beforeCreate=d?[].concat(d,c):[c]}return{exports:e,options:a}}}}]);