define(["utilities"],function(o){"use strict";var i,t=0;return(i=function(t,e,n){if(!t||!t.length)throw new Error("Element not supplied to DoughBaseComponent constructor");return this.config=$.extend({},n||{},e||{}),this.setElement(t),this._setComponentName(this.constructor.componentName),this.__id=this._getNextDoughComponentID(),this.attrs=[],this._bindUiEvents(this.config.uiEvents||{}),this}).componentName="DoughBaseComponent",i.extend=function(t,e){function n(){}var o=e||i;n.prototype=o.prototype,t.prototype=new n,(t.prototype.constructor=t).baseConstructor=o,t.superclass=o.prototype},i.prototype.setElement=function(t){return this.$el=t,this},i.prototype.destroy=function(){return this._unbindUiEvents(),this},i.prototype._bindUiEvents=function(t){var e=/^(\S+)\s*(.*)$/;if(!t)return this;for(var n in this._unbindUiEvents(),t){var o=this[t[n]];if(o){var i=n.match(e),s=i[1],r=i[2];o=$.proxy(o,this),s+="."+this.componentName+"-boundUiEvents",""===r?this.$el.on(s,o):this.$el.on(s,r,o)}}return this},i.prototype._unbindUiEvents=function(){return this.$el.off("."+this.componentName+"-boundUiEvents"),this},i.prototype._initialisedSuccess=function(t){this.$el.attr("data-dough-"+this.componentAttributeName+"-initialised","yes"),this.$el.attr("data-dough-"+this.componentAttributeName+"-id",this.__id),this.$el.trigger(i.EventConstants.InitialisedSuccess,{instance:this}),t&&t.resolve(this.componentName)},i.prototype._initialisedFailure=function(t){this.$el.trigger(i.EventConstants.InitialisedFailure,{instance:this}),t&&t.reject(this.componentName)},i.prototype._setComponentName=function(t){var e,n=this.$el.data("dough-component");void 0!==t?(n&&-1===n.indexOf(t)&&(e='"'+t+'" componentName was not found in the data-dough-component attribute'),this.componentName=t,this.componentAttributeName=o.convertCamelCaseToDashed(t)):e="componentName not specified",e&&o.log(e,"warn")},i.prototype._getNextDoughComponentID=function(){return(++t).toString()},i.EventConstants={InitialisedSuccess:"INITIALISE-SUCCESS.DoughBaseEvent",InitialisedFailure:"INITIALISE-FAILURE.DoughBaseEvent",ComponentsComplete:"COMPONENTS_COMPLETE.DoughBaseEvent"},i});