define(["jquery","eventsWithPromises","featureDetect","jqueryThrottleDebounce"],function(n,r,i){"use strict";function u(){return i.mediaQueries?window.getComputedStyle(d[0],":after").getPropertyValue("content").replace(/"/g,""):"mq-l"}function a(e,t){l.addClass(t).removeClass(e)}function s(e){var t=u();(t!==o||e)&&(a(o,t),o=t,r.publish("mediaquery:resize",{newSize:t}))}function e(e){if(i.mediaQueries){var t=e||n("body");if(n(d).closest(t).length)s(!0);else{t.append(d);var r=n.debounce(250,s);window.addEventListener("resize",r,!1),s()}}}var o=!1,d=n('<div class="js-mediaquery-test" />'),l=n("html");return e(),{atSmallViewport:function(){return-1<n.inArray(u(),["mq-xs","mq-s"])},atMediumViewport:function(){return-1<n.inArray(u(),["mq-m"])},atLargeViewport:function(){return-1<n.inArray(u(),["mq-l","mq-xl"])}}});